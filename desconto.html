<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desconto</title>
</head>
<body>
    <h1>Aplique seu desconto</h1>

    <form action="">
        <label for="valorTotal">Valor total da compra:</label>
        <input type="number" id="valorTotal" min="0">

        <label for="tipoDesconto">Selecione a forma de desconto:
            <select name="tipoDesconto" id="tipoDesconto">
                <option value="F">Funcionário</option>
                <option value="C" selected>Cliente</option>
                <option value="V">VIP</option>   
            </select>
        </label>
        <button type="button" id="btCalcular">Calcular desconto</button>
        <button type="reset" id="btReset">Limpar</button>
    </form>
    <div id="resultado"></div>

    <script>
        document.querySelector('#btCalcular').addEventListener('click', () =>{
            const valorTotal = Number(document.querySelector('#valorTotal').value);
            const desconto = document.querySelector('#tipoDesconto').value;

            let totalPagar = descontoAplicado(valorTotal, desconto)

            document.querySelector('#resultado').innerHTML = totalPagar;
        })

        document.querySelector('#btReset').addEventListener('click', () => {
            document.querySelector('#resultado').innerHTML = "";
        })

        function descontoAplicado(valorTotal, desconto){
            let desconto_aplicado;
            let msgErro;
            console.log(typeof'valorTotal, desconto')
            if (desconto === "F"){
                let valorDescontoFuncionario = valorTotal *10/100;
                desconto_aplicado = `Desconto de 10% para funcionário aplicado : ${valorDescontoFuncionario} . Valor total a pagar ${valorTotal - valorDescontoFuncionario}`;
            }else if (desconto === "V"){
                let valorDescontoVip = valorTotal *5/100;
                desconto_aplicado = `Desconto de 5% para clientes VIP aplicado: ${valorDescontoVip}. Valor total a pagar ${valorTotal - valorDescontoVip}`;
            }else{
                desconto_aplicado = "Infelizmente não há desconto";
            }
            return desconto_aplicado;
        }
    </script>
</body>
</html>